# ðŸ­ Mini-MES: Next-Gen Industrial IoT Solution

> **è½»é‡çº§ Â· æŠ—è„†å¼± Â· è¾¹ç¼˜åŽŸç”Ÿ** | é¢å‘ä¸­å°åˆ¶é€ ä¼ä¸šçš„çŽ°ä»£åŒ–ç”Ÿäº§æ‰§è¡Œç³»ç»Ÿã€‚

## ðŸ“– é¡¹ç›®èƒŒæ™¯ä¸Žæ„¿æ™¯ (Vision)

ä¼ ç»Ÿ MES ç³»ç»Ÿåºžå¤§ã€æ˜‚è´µä¸”åƒµåŒ–ï¼Œéš¾ä»¥é€‚åº”ä¸­å°å·¥åŽ‚ï¼ˆSMEï¼‰çµæ´»å¤šå˜çš„ç”Ÿäº§éœ€æ±‚ã€‚å·¥ä¸šçŽ°åœºæ™®éå­˜åœ¨â€œç¡¬ä»¶è€åŒ–ã€éžç»“æž„åŒ–æ•°æ®å¤šã€éœ€æ±‚å˜æ›´é¢‘ç¹â€çš„ç—›ç‚¹ã€‚

**Mini-MES** å¹¶éžä¼ ç»Ÿç³»ç»Ÿçš„ç¼©æ°´ç‰ˆï¼Œè€Œæ˜¯åŸºäºŽ **Edge-Cloudï¼ˆç«¯-äº‘ï¼‰ååŒæž¶æž„** çš„é‡æž„ã€‚æˆ‘ä»¬è‡´åŠ›äºŽé€šè¿‡çŽ°ä»£åŒ–æŠ€æœ¯æ ˆï¼Œä»¥æžä½Žçš„è¾¹é™…æˆæœ¬ï¼Œå®žçŽ°å·¥ä¸šçŽ°åœºæ•°æ®çš„**å…¨é“¾è·¯é‡‡é›†ã€å¯è§†åŒ–ä¸Žè¿½æº¯**ã€‚

## ðŸ—ï¸ æ ¸å¿ƒæž¶æž„è®¾è®¡ (Architecture & Decisions)

ä½œä¸ºä»Žé›¶æž„å»ºçš„ç³»ç»Ÿï¼Œæˆ‘ä»¬åœ¨æŠ€æœ¯é€‰åž‹ä¸Šéµå¾ª **"å®žç”¨ä¸»ä¹‰"** ä¸Ž **"é€‚åº¦è¶…å‰"** çš„åŽŸåˆ™ï¼š

### 1. âš¡ å…¨å¼‚æ­¥é«˜å¹¶å‘é“¾è·¯ (Async I/O)

* **é€‰åž‹**: Python **FastAPI** + **SQLAlchemy (Async)** + **AsyncMy**ã€‚
* **æ€è€ƒ**: å·¥ä¸šæ•°æ®é‡‡é›†å…·æœ‰â€œé«˜é¢‘ã€çŸ­æŠ¥æ–‡â€çš„ç‰¹å¾ã€‚å…¨å¼‚æ­¥é“¾è·¯ç¡®ä¿äº†åœ¨ä½Žé…æœåŠ¡å™¨ä¸Šä¹Ÿèƒ½ç»´æŒæžé«˜çš„åžåé‡ (Throughput)ï¼Œé¿å…çº¿ç¨‹é˜»å¡žã€‚

### 2. ðŸ›¡ï¸ "JSON-Hybrid" æ··åˆå­˜å‚¨ç­–ç•¥ (Anti-Fragile Data Model)

* **ç—›ç‚¹**: ç”²æ–¹éœ€æ±‚æžä¸ç¨³å®šï¼Œä»Šå¤©æµ‹â€œé‡é‡â€ï¼Œæ˜Žå¤©å°±è¦æµ‹â€œæ¸©åº¦â€å’Œâ€œæ‰­çŸ©â€ã€‚
* **æ–¹æ¡ˆ**: é‡‡ç”¨ MySQL 8.0 çš„ JSON ç‰¹æ€§ã€‚
* **ä»·å€¼**: å®žçŽ°äº† **Schema-less** çš„çµæ´»æ€§ï¼Œæ— éœ€åœæœºå³å¯é€‚åº”æ–°è®¾å¤‡çš„æŽ¥å…¥ï¼Œå…·å¤‡æžå¼ºçš„æŠ—éœ€æ±‚å˜æ›´èƒ½åŠ›ã€‚

### 3. ðŸ” æžç®€é›¶ä¾èµ–é‰´æƒä½“ç³» (Minimalist Auth)

* **é€‰åž‹**: **JWT (JSON Web Token)** + **Native Hashlib**ã€‚
* **æ€è€ƒ**: åœ¨å·¥ä¸šå†…ç½‘çŽ¯å¢ƒä¸­ï¼Œå¤æ‚çš„ OAuth2 å¾€å¾€æ˜¾å¾—è‡ƒè‚¿ã€‚æˆ‘ä»¬é‡‡ç”¨æ— çŠ¶æ€çš„ JWT æœºåˆ¶ï¼Œå½»åº•æ‘†è„±äº†å¯¹åº•å±‚ C ç¼–è¯‘çŽ¯å¢ƒçš„ä¾èµ–ï¼Œç¡®ä¿ Docker é•œåƒæžåº¦è½»é‡ã€‚

### 4. ðŸ­ å·¥ä¸šçº§å¯è§†åŒ– (Industrial UX)

* **UI å“²å­¦**: é‡‡ç”¨ **Element Plus** å®šåˆ¶ä¸»é¢˜ï¼Œä¸»æ‰“ **"Professional Blue"**ï¼ˆä¸“ä¸šè“ï¼‰ä¸Ž **"Card Layout"**ï¼ˆå¡ç‰‡å¼å¸ƒå±€ï¼‰ã€‚
* **åœºæ™¯**: é¡¶éƒ¨é€šæ å¯¼èˆªå¼ºåŒ–å“ç‰Œæ„Ÿï¼Œä¾§è¾¹æ æ‚¬æµ®èƒ¶å›Šè®¾è®¡æå‡äº¤äº’ä½“éªŒï¼Œå…³é”®æŒ‡æ ‡ï¼ˆOK/NGï¼‰åœ¨ç™½åº•å¡ç‰‡ä¸Šä¸€çœ¼å¯è¾¨ã€‚

### 5. ðŸ³ å®¹å™¨åŒ–åŸºç¡€è®¾æ–½ (Infrastructure as Code)

* **éƒ¨ç½²**: **Docker Compose** ç¼–æŽ’ã€‚
* **ä»·å€¼**: å½»åº•è§£å†³ "It works on my machine" é—®é¢˜ã€‚æ•°æ®åº“ä¸ŽåŽç«¯æœåŠ¡ç‰ˆæœ¬ä¸¥æ ¼é”å®šï¼Œé™ä½ŽçŽ°åœºå®žæ–½æˆæœ¬ã€‚

---

## ðŸ“‚ é¡¹ç›®ç»“æž„è¯´æ˜Ž (Project Structure)

```text
Mini-MES/
â”œâ”€â”€ docs/                       # ðŸ“ æž¶æž„æ–‡æ¡£ä¸Žå¼€å‘å¤ç›˜æ—¥è®°
â”œâ”€â”€ src/
â”‚   â”œâ”€â”€ client/                 # ðŸ”Œ è¾¹ç¼˜ç«¯ (Edge Layer)
â”‚   â”‚   â””â”€â”€ mock_device.py      #    [v0.4] æ¨¡æ‹Ÿå·¥ä¸šè®¾å¤‡ (AESåŠ å¯†ä¸ŠæŠ¥)
â”‚   â”œâ”€â”€ backend/                # ðŸ§  åŽç«¯æœåŠ¡ (FastAPI)
â”‚   â”‚   â”œâ”€â”€ app/
â”‚   â”‚   â”‚   â”œâ”€â”€ api/            #    ä¸šåŠ¡æŽ¥å£å±‚
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ auth.py     #       [v0.5] JWT ç™»å½•é‰´æƒ
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ production.py #     [v0.6] ç”Ÿäº§æ•°æ®è¿½æº¯
â”‚   â”‚   â”‚   â”‚   â””â”€â”€ operators.py  #     [v0.7] äººå‘˜ç®¡ç† CRUD
â”‚   â”‚   â”‚   â”œâ”€â”€ core/           #    æ ¸å¿ƒé…ç½® (Database/Config)
â”‚   â”‚   â”‚   â”œâ”€â”€ models/         #    ORM æ¨¡åž‹å®šä¹‰
â”‚   â”‚   â”‚   â””â”€â”€ main.py         #    åº”ç”¨å…¥å£ (CORS/Middleware)
â”‚   â”‚   â””â”€â”€ requirements.txt
â”‚   â””â”€â”€ frontend/               # ðŸ‘ï¸ å‰ç«¯è§†å›¾ (Vue3 + Vite)
â”‚       â”œâ”€â”€ src/
â”‚       â”‚   â”œâ”€â”€ router/         #    è·¯ç”±é…ç½® (Nested Routes)
â”‚       â”‚   â”œâ”€â”€ views/          #    é¡µé¢ç»„ä»¶
â”‚       â”‚   â”‚   â”œâ”€â”€ MainLayout.vue    # [v0.7] ä¾§è¾¹æ /é¡¶éƒ¨å¯¼èˆªå¸ƒå±€
â”‚       â”‚   â”‚   â”œâ”€â”€ Login.vue         # [v0.5] ç™»å½•é¡µ
â”‚       â”‚   â”‚   â”œâ”€â”€ DashboardView.vue # [v0.6] åŽ†å²è¿½æº¯çœ‹æ¿
â”‚       â”‚   â”‚   â””â”€â”€ OperatorView.vue  # [v0.7] äººå‘˜ä¿¡æ¯ç®¡ç†
â”‚       â”‚   â””â”€â”€ ...
â”‚       â””â”€â”€ vite.config.js      #    æž„å»ºé…ç½® (åå‘ä»£ç†)
â”œâ”€â”€ docker-compose.yml          # ðŸ³ å®¹å™¨ç¼–æŽ’æ–‡ä»¶
â””â”€â”€ README.md                   # ðŸ“„ æœ¬æ–‡ä»¶

```

---

## ðŸ› ï¸ æŠ€æœ¯æ ˆçŸ©é˜µ (Tech Stack)

| é¢†åŸŸ | æ ¸å¿ƒæŠ€æœ¯ | é€‰åž‹ç†ç”± |
| --- | --- | --- |
| **Backend** | Python 3.10+, FastAPI | çŽ°ä»£ã€é«˜æ€§èƒ½ã€ç±»åž‹å®‰å…¨ (Type Hints) |
| **Database** | MySQL 8.0 | æˆç†Ÿç¨³å®šï¼Œä¸”å…·å¤‡ä¼˜ç§€çš„ JSON æŸ¥è¯¢èƒ½åŠ› |
| **Auth** | **JWT, Hashlib** | **[v0.5]** æ— çŠ¶æ€ä¼šè¯ç®¡ç†ï¼Œé›¶ä¾èµ–éƒ¨ç½² |
| **Security** | PyCryptodome (AES-256) | **[v0.4]** é“¶è¡Œçº§ç«¯åˆ°ç«¯åŠ å¯† |
| **Frontend** | Vue 3, Vite, Pinia | å“åº”å¼æ€§èƒ½æžä½³ï¼Œå¼€å‘ä½“éªŒæžå¿« |
| **UI** | Element Plus | **[v0.7]** ä¼ä¸šçº§åŽå°ç»„ä»¶åº“ï¼Œä¸“ä¸šè“ä¸»é¢˜ |
| **DevOps** | Docker, Docker Compose | æ ‡å‡†åŒ–äº¤ä»˜ä¸ŽçŽ¯å¢ƒéš”ç¦» |

## ðŸ“ ç³»ç»Ÿæ‹“æ‰‘ (Topology)

```mermaid
graph TD
    subgraph "Edge / Field Layer (çŽ°åœºç«¯)"
        A[PLC / Sensors] -->|Signal| B(Pythoné‡‡é›†è„šæœ¬ .exe)
        B -->|AES Encrypted / HTTP| C[Nginx / Gateway]
    end

    subgraph "Server Layer (æœåŠ¡å™¨/Docker)"
        C -->|Reverse Proxy| D[FastAPI Backend]
        D -->|Async Driver| E[(MySQL 8.0 DB)]
    end

    subgraph "Client Layer (ç®¡ç†ç«¯)"
        F[Browser / Dashboard] -->|JWT Auth / REST API| D
    end

```

## ðŸš€ å¿«é€Ÿå¯åŠ¨ (Quick Start)

### å‰ç½®è¦æ±‚

* Docker Desktop (Windows/Mac) æˆ– Docker Engine (Linux)
* Git

### éƒ¨ç½²æ­¥éª¤

1. **å…‹éš†ä»“åº“**
```bash
git clone [https://github.com/YourUsername/Mini-MES.git](https://github.com/YourUsername/Mini-MES.git)
cd Mini-MES

```


2. **å¯åŠ¨æœåŠ¡ (Docker)**
```bash
# é¦–æ¬¡å¯åŠ¨ä¼šè‡ªåŠ¨æž„å»ºé•œåƒå¹¶åˆå§‹åŒ–æ•°æ®åº“
docker-compose up --build -d

```


3. **ç³»ç»ŸæŽ¥å…¥ (System Access)**
* **åŽç«¯ API æ–‡æ¡£ (Swagger)**: `http://localhost:8000/docs`
* **å‰ç«¯ç®¡ç†åŽå°**: `http://localhost:5173`
* **é»˜è®¤ç®¡ç†å‘˜è´¦å·**: `admin` / `admin123`


4. **å¯åŠ¨è¾¹ç¼˜é‡‡é›† (Edge Client)**
```bash
# æ–¹å¼ A: ç›´æŽ¥è¿è¡Œ Python è„šæœ¬ (éœ€ pip install pycryptodome)
python src/client/mock_device.py

# æ–¹å¼ B: è¿è¡Œæ‰“åŒ…åŽçš„ç¨‹åº
./dist/MiniMES_Edge_Client.exe

```



---

## ðŸ“… è·¯çº¿å›¾ (Roadmap)

* [x] **v0.1 MVP**: åŸºç¡€æž¶æž„æ­å»ºï¼ŒDocker åŒ–ï¼Œæ ¸å¿ƒæ•°æ®é‡‡é›†ä¸Žå±•ç¤ºè·‘é€šã€‚
* [x] **v0.2 Edge**: å‘å¸ƒ Python é‡‡é›†ç«¯ SDKï¼Œå®žçŽ° PyInstaller äºŒè¿›åˆ¶æ‰“åŒ…äº¤ä»˜ã€‚
* [x] **v0.3 Business**: å®žçŽ° Pandas æ•°æ®æ¸…æ´—ä¸Ž Excel æŠ¥è¡¨å¯¼å‡ºã€‚
* [x] **v0.4 Security**: å®žçŽ°ç«¯åˆ°ç«¯ AES-256 åŠ å¯†/è§£å¯†ã€‚
* [x] **v0.5 Admin**: å®žçŽ° JWT ç™»å½•é‰´æƒã€è·¯ç”±å®ˆå«ã€‚
* [x] **v0.6 Traceability**: å¤šç»´åº¦æ•°æ®æŸ¥è¯¢ä¸Žè¿½æº¯ (Search & Filter)ã€‚
* [x] **v0.7 Layout & Operators**: **[NEW]** çŽ°ä»£åŒ–ä¾§è¾¹æ å¸ƒå±€é‡æž„ï¼Œäººå‘˜ç®¡ç† CRUD ä¸Šçº¿ã€‚
* [ ] **v0.8 Context**: **[Next]** ç”Ÿäº§ä¸Šä¸‹æ–‡æ„ŸçŸ¥ (Context Awareness) ä¸Žå·¥ä½ç™»å½•ã€‚
* [ ] **v1.0 Release**: å¼•å…¥ Redis ç¼“å­˜å±‚ï¼Œå‘å¸ƒæ­£å¼ç‰ˆã€‚

---

## ðŸ‘¥ ç»´æŠ¤è€… (Maintainers)

### Run-Haji

**Project Lead & System Architect**
è´Ÿè´£ Mini-MES çš„**é¡¶å±‚æž¶æž„è®¾è®¡**ã€**æŠ€æœ¯æ ˆé€‰åž‹**ä»¥åŠ**æ ¸å¿ƒä¸šåŠ¡é€»è¾‘æŠ½è±¡**ã€‚

### Gemini (AI Model)

**Technical Copilot**
ååŠ©å¼€å‘è€…å®Œæˆäº†ä»Ž**æ•°æ®åº“å»ºæ¨¡**ã€**åŽç«¯é«˜å¹¶å‘é“¾è·¯å®žçŽ°**åˆ°**å‰ç«¯ç»„ä»¶åŒ–å¼€å‘**çš„å…¨æµç¨‹è½åœ°ï¼Œæžå¤§åœ°ç¼©çŸ­äº†ç³»ç»Ÿçš„ç ”å‘å‘¨æœŸï¼ˆTime-to-Marketï¼‰ã€‚

> **Copyright**: Â© 2026 Mini-MES Open Source Project.

```

```