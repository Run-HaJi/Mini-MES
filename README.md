# ðŸ­ Mini-MES: Next-Gen Industrial IoT Solution

> **è½»é‡çº§ Â· æŠ—è„†å¼± Â· è¾¹ç¼˜åŽŸç”Ÿ** | é¢å‘ä¸­å°åˆ¶é€ ä¼ä¸šçš„çŽ°ä»£åŒ–ç”Ÿäº§æ‰§è¡Œç³»ç»Ÿã€‚

## ðŸ“– é¡¹ç›®èƒŒæ™¯ä¸Žæ„¿æ™¯ (Vision)

ä¼ ç»Ÿ MES ç³»ç»Ÿåºžå¤§ã€æ˜‚è´µä¸”åƒµåŒ–ï¼Œéš¾ä»¥é€‚åº”ä¸­å°å·¥åŽ‚ï¼ˆSMEï¼‰çµæ´»å¤šå˜çš„ç”Ÿäº§éœ€æ±‚ã€‚å·¥ä¸šçŽ°åœºæ™®éå­˜åœ¨â€œç¡¬ä»¶è€åŒ–ã€éžç»“æž„åŒ–æ•°æ®å¤šã€éœ€æ±‚å˜æ›´é¢‘ç¹â€çš„ç—›ç‚¹ã€‚

**Mini-MES** å¹¶éžä¼ ç»Ÿç³»ç»Ÿçš„ç¼©æ°´ç‰ˆï¼Œè€Œæ˜¯åŸºäºŽ **Edge-Cloudï¼ˆç«¯-äº‘ï¼‰ååŒæž¶æž„** çš„é‡æž„ã€‚æˆ‘ä»¬è‡´åŠ›äºŽé€šè¿‡çŽ°ä»£åŒ–æŠ€æœ¯æ ˆï¼Œä»¥æžä½Žçš„è¾¹é™…æˆæœ¬ï¼Œå®žçŽ°å·¥ä¸šçŽ°åœºæ•°æ®çš„**å…¨é“¾è·¯é‡‡é›†ã€å¯è§†åŒ–ä¸Žè¿½æº¯**ã€‚

## ðŸ—ï¸ æ ¸å¿ƒæž¶æž„è®¾è®¡ (Architecture & Decisions)

ä½œä¸ºä»Žé›¶æž„å»ºçš„ç³»ç»Ÿï¼Œæˆ‘ä»¬åœ¨æŠ€æœ¯é€‰åž‹ä¸Šéµå¾ª **"å®žç”¨ä¸»ä¹‰"** ä¸Ž **"é€‚åº¦è¶…å‰"** çš„åŽŸåˆ™ï¼š

### 1. âš¡ å…¨å¼‚æ­¥é«˜å¹¶å‘é“¾è·¯ (Async I/O)

* **é€‰åž‹**: Python **FastAPI** + **SQLAlchemy (Async)** + **AsyncMy**ã€‚
* **æ€è€ƒ**: å·¥ä¸šæ•°æ®é‡‡é›†å…·æœ‰â€œé«˜é¢‘ã€çŸ­æŠ¥æ–‡â€çš„ç‰¹å¾ã€‚ä¼ ç»Ÿçš„åŒæ­¥é˜»å¡ž IOï¼ˆDjango/Flaskï¼‰åœ¨å¤šè®¾å¤‡å¹¶å‘ä¸Šä¼ æ—¶å®¹æ˜“é€ æˆçº¿ç¨‹é˜»å¡žã€‚å…¨å¼‚æ­¥é“¾è·¯ç¡®ä¿äº†åœ¨ä½Žé…æœåŠ¡å™¨ä¸Šä¹Ÿèƒ½ç»´æŒæžé«˜çš„åžåé‡ (Throughput)ã€‚

### 2. ðŸ›¡ï¸ "JSON-Hybrid" æ··åˆå­˜å‚¨ç­–ç•¥ (Anti-Fragile Data Model)

* **ç—›ç‚¹**: ç”²æ–¹éœ€æ±‚æžä¸ç¨³å®šï¼Œä»Šå¤©æµ‹â€œé‡é‡â€ï¼Œæ˜Žå¤©å°±è¦æµ‹â€œæ¸©åº¦â€å’Œâ€œæ‰­çŸ©â€ã€‚ä¼ ç»Ÿå…³ç³»åž‹æ•°æ®åº“ï¼ˆRDBMSï¼‰é¢‘ç¹å˜æ›´ Schema æ˜¯ç¾éš¾ã€‚
* **æ–¹æ¡ˆ**: é‡‡ç”¨ MySQL 8.0 çš„ JSON ç‰¹æ€§ã€‚
* **ä»·å€¼**: å®žçŽ°äº† **Schema-less** çš„çµæ´»æ€§ï¼Œæ— éœ€åœæœºå³å¯é€‚åº”æ–°è®¾å¤‡çš„æŽ¥å…¥ï¼Œå…·å¤‡æžå¼ºçš„æŠ—éœ€æ±‚å˜æ›´èƒ½åŠ›ã€‚

### 3. ðŸ” æžç®€é›¶ä¾èµ–é‰´æƒä½“ç³» (Minimalist Auth)

* **é€‰åž‹**: **JWT (JSON Web Token)** + **Native Hashlib**ã€‚
* **æ€è€ƒ**: åœ¨å·¥ä¸šå†…ç½‘çŽ¯å¢ƒä¸­ï¼Œå¤æ‚çš„ OAuth2 å¾€å¾€æ˜¾å¾—è‡ƒè‚¿ã€‚æˆ‘ä»¬é‡‡ç”¨æ— çŠ¶æ€çš„ JWT æœºåˆ¶ï¼Œé…åˆ Python åŽŸç”Ÿæ ‡å‡†åº“è¿›è¡Œå“ˆå¸Œæ ¡éªŒã€‚
* **ä»·å€¼**: å½»åº•æ‘†è„±äº†å¯¹åº•å±‚ C ç¼–è¯‘çŽ¯å¢ƒï¼ˆå¦‚ gcc/bcryptï¼‰çš„ä¾èµ–ï¼Œç¡®ä¿ Docker é•œåƒæžåº¦è½»é‡ä¸”åœ¨ä»»ä½•çŽ¯å¢ƒéƒ½èƒ½ä¸€é”®å¯åŠ¨ã€‚

### 4. ðŸ­ å·¥ä¸šçº§å¯è§†åŒ– (Industrial UX)

* **UI å“²å­¦**: æ‘’å¼ƒèŠ±å“¨åŠ¨æ•ˆã€‚é‡‡ç”¨ **Element Plus** å®šåˆ¶ä¸»é¢˜ï¼ŒåšæŒ **"High Contrast / Dark Mode"**ï¼ˆé«˜å¯¹æ¯”åº¦/æ·±è‰²æ¨¡å¼ï¼‰ã€‚
* **åœºæ™¯**: é€‚åº”è½¦é—´å¼ºå…‰/å¼±å…‰çŽ¯å¢ƒï¼Œé™ä½Žæ“ä½œå‘˜è§†è§‰ç–²åŠ³ï¼Œå…³é”®æŒ‡æ ‡ï¼ˆOK/NGï¼‰ä¸€çœ¼å¯è¾¨ã€‚

### 5. ðŸ³ å®¹å™¨åŒ–åŸºç¡€è®¾æ–½ (Infrastructure as Code)

* **éƒ¨ç½²**: **Docker Compose** ç¼–æŽ’ã€‚
* **ä»·å€¼**: å½»åº•è§£å†³ "It works on my machine" é—®é¢˜ã€‚å®žçŽ° Server ç«¯çš„ä¸€é”®äº¤ä»˜ï¼Œæ•°æ®åº“ä¸ŽåŽç«¯æœåŠ¡ç‰ˆæœ¬ä¸¥æ ¼é”å®šï¼Œé™ä½ŽçŽ°åœºå®žæ–½æˆæœ¬ã€‚

---

## ðŸ“‚ é¡¹ç›®ç»“æž„è¯´æ˜Ž (Project Structure)

```text
Mini-MES/
â”œâ”€â”€ docs/                   # ðŸ“ æž¶æž„æ–‡æ¡£ä¸Žå¼€å‘å¤ç›˜æ—¥è®°
â”œâ”€â”€ src/
â”‚   â”œâ”€â”€ client/             # ðŸ”Œ è¾¹ç¼˜ç«¯ (Edge Layer)
â”‚   â”‚   â””â”€â”€ mock_device.py  #    [v0.4] æ¨¡æ‹Ÿå·¥ä¸šè®¾å¤‡ (AESåŠ å¯†ä¸ŠæŠ¥)
â”‚   â”œâ”€â”€ backend/            # ðŸ§  åŽç«¯æœåŠ¡ (FastAPI)
â”‚   â”‚   â”œâ”€â”€ app/
â”‚   â”‚   â”‚   â”œâ”€â”€ api/        #    ä¸šåŠ¡æŽ¥å£å±‚
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ auth.py #      [v0.5] JWT ç™»å½•é‰´æƒ
â”‚   â”‚   â”‚   â”‚   â””â”€â”€ ...     #      ç”Ÿäº§æ•°æ®æŽ¥å£
â”‚   â”‚   â”‚   â”œâ”€â”€ core/       #    æ ¸å¿ƒé…ç½® (Database/Config)
â”‚   â”‚   â”‚   â”œâ”€â”€ models/     #    ORM æ¨¡åž‹å®šä¹‰
â”‚   â”‚   â”‚   â””â”€â”€ main.py     #    åº”ç”¨å…¥å£ (CORS/Middleware)
â”‚   â”‚   â””â”€â”€ requirements.txt
â”‚   â””â”€â”€ frontend/           # ðŸ‘ï¸ å‰ç«¯è§†å›¾ (Vue3 + Vite)
â”‚       â”œâ”€â”€ src/
â”‚       â”‚   â”œâ”€â”€ router/     #    è·¯ç”±é…ç½® (è·¯ç”±å®ˆå«/æ‹¦æˆª)
â”‚       â”‚   â”œâ”€â”€ views/      #    é¡µé¢ç»„ä»¶
â”‚       â”‚   â”‚   â”œâ”€â”€ Login.vue         # [v0.5] ç™»å½•é¡µ
â”‚       â”‚   â”‚   â””â”€â”€ DashboardView.vue # [v0.1] å®žæ—¶çœ‹æ¿
â”‚       â”‚   â””â”€â”€ ...
â”‚       â””â”€â”€ vite.config.js  #    æž„å»ºé…ç½® (åå‘ä»£ç†)
â”œâ”€â”€ docker-compose.yml      # ðŸ³ å®¹å™¨ç¼–æŽ’æ–‡ä»¶
â””â”€â”€ README.md               # ðŸ“„ æœ¬æ–‡ä»¶

```

---

## ðŸ› ï¸ æŠ€æœ¯æ ˆçŸ©é˜µ (Tech Stack)

| é¢†åŸŸ | æ ¸å¿ƒæŠ€æœ¯ | é€‰åž‹ç†ç”± |
| --- | --- | --- |
| **Backend** | Python 3.10+, FastAPI | çŽ°ä»£ã€é«˜æ€§èƒ½ã€ç±»åž‹å®‰å…¨ (Type Hints) |
| **Database** | MySQL 8.0 | æˆç†Ÿç¨³å®šï¼Œä¸”å…·å¤‡ä¼˜ç§€çš„ JSON æŸ¥è¯¢èƒ½åŠ› |
| **Authentication** | **JWT, Hashlib** | **ðŸ†• [v0.5]** æ— çŠ¶æ€ä¼šè¯ç®¡ç†ï¼Œé›¶ä¾èµ–éƒ¨ç½² |
| **Security** | PyCryptodome (AES-256) | **ðŸ†• [v0.4]** é“¶è¡Œçº§ç«¯åˆ°ç«¯åŠ å¯†ï¼Œä¿éšœæ•°æ®éšç§ |
| **Data Proc** | Pandas, OpenPyXL | å¼ºå¤§çš„æ•°æ®æ¸…æ´—ä¸Ž Excel æŠ¥è¡¨ç”Ÿæˆèƒ½åŠ› |
| **Frontend** | Vue 3, Vite, Pinia | å“åº”å¼æ€§èƒ½æžä½³ï¼Œå¼€å‘ä½“éªŒæžå¿« |
| **UI Component** | Element Plus | ä¸“ä¸šçš„ä¼ä¸šçº§/åŽå°ç»„ä»¶åº“ |
| **DevOps** | Docker, Docker Compose | æ ‡å‡†åŒ–äº¤ä»˜ä¸ŽçŽ¯å¢ƒéš”ç¦» |

## ðŸ“ ç³»ç»Ÿæ‹“æ‰‘ (Topology)

```mermaid
graph TD
    subgraph "Edge / Field Layer (çŽ°åœºç«¯)"
        A[PLC / Sensors] -->|Signal| B(Pythoné‡‡é›†è„šæœ¬ .exe)
        B -->|AES Encrypted / HTTP| C[Nginx / Gateway]
    end

    subgraph "Server Layer (æœåŠ¡å™¨/Docker)"
        C -->|Reverse Proxy| D[FastAPI Backend]
        D -->|Async Driver| E[(MySQL 8.0 DB)]
    end

    subgraph "Client Layer (ç®¡ç†ç«¯)"
        F[Browser / Dashboard] -->|JWT Auth / REST API| D
    end

```

## ðŸš€ å¿«é€Ÿå¯åŠ¨ (Quick Start)

### å‰ç½®è¦æ±‚

* Docker Desktop (Windows/Mac) æˆ– Docker Engine (Linux)
* Git

### éƒ¨ç½²æ­¥éª¤

1. **å…‹éš†ä»“åº“**

```bash
git clone https://github.com/YourUsername/Mini-MES.git
cd Mini-MES

```

2. **å¯åŠ¨æœåŠ¡ (Docker)**

```bash
# é¦–æ¬¡å¯åŠ¨ä¼šè‡ªåŠ¨æž„å»ºé•œåƒå¹¶åˆå§‹åŒ–æ•°æ®åº“
docker-compose up --build -d

```

3. **ç³»ç»ŸæŽ¥å…¥ (System Access)**

* **åŽç«¯ API æ–‡æ¡£ (Swagger)**: `http://localhost:8000/docs`
* **å‰ç«¯ç®¡ç†åŽå°**: `http://localhost:5173`
* **é»˜è®¤ç®¡ç†å‘˜è´¦å·**:
* Username: `admin`
* Password: `admin123`



4. **å¯åŠ¨è¾¹ç¼˜é‡‡é›† (Edge Client)**

```bash
# å‰ç½®ï¼šå®‰è£…åŠ å¯†ä¾èµ– (ä»…é¦–æ¬¡éœ€è¦)
pip install pycryptodome

# æ–¹å¼ A: ç›´æŽ¥è¿è¡Œ Python è„šæœ¬
python src/client/mock_device.py

# æ–¹å¼ B: è¿è¡Œæ‰“åŒ…åŽçš„ç¨‹åº (æ— éœ€å®‰è£…ä¾èµ–)
./dist/MiniMES_Edge_Client.exe

```

5. **å¯¼å‡ºä¸šåŠ¡æŠ¥è¡¨ (Business Reporting)**
ç™»å½•ç®¡ç†åŽå°ï¼Œç‚¹å‡»â€œå¯¼å‡ºæŠ¥è¡¨â€ï¼Œæˆ–ç›´æŽ¥è®¿é—® APIï¼š

* **æŽ¥å£**: `http://localhost:8000/api/v1/data/export`
* **ä»·å€¼**: å°†éžç»“æž„åŒ–çš„ JSON é¥æµ‹æ•°æ®æ¸…æ´—ä¸ºæ ‡å‡†è¡¨æ ¼ï¼Œè¾…åŠ©ç”Ÿäº§å†³ç­–ã€‚

---

## ðŸ“… è·¯çº¿å›¾ (Roadmap)

* [x] **v0.1 MVP**: åŸºç¡€æž¶æž„æ­å»ºï¼ŒDocker åŒ–ï¼Œæ ¸å¿ƒæ•°æ®é‡‡é›†ä¸Žå±•ç¤ºè·‘é€šã€‚
* [x] **v0.2 Edge**: å‘å¸ƒ Python é‡‡é›†ç«¯ SDKï¼Œå®žçŽ° PyInstaller äºŒè¿›åˆ¶æ‰“åŒ…äº¤ä»˜ã€‚
* [x] **v0.3 Business**: å®žçŽ° Pandas æ•°æ®æ¸…æ´—ä¸Ž Excel æŠ¥è¡¨å¯¼å‡ºï¼Œå…·å¤‡åˆæ­¥å•†ä¸šäº¤ä»˜ä»·å€¼ã€‚
* [x] **v0.4 Security**: å®žçŽ°ç«¯åˆ°ç«¯ AES-256 åŠ å¯†/è§£å¯†ï¼Œä¿éšœå·¥ä¸šçŽ°åœºæ•°æ®ä¼ è¾“å®‰å…¨ã€‚
* [x] **v0.5 Admin**: **[NEW]** å®žçŽ° JWT ç™»å½•é‰´æƒã€è·¯ç”±å®ˆå«ä¸Žç”¨æˆ·ä¼šè¯ç®¡ç†ã€‚
* [ ] **v0.6 Traceability**: **[Next]** å¤šç»´åº¦æ•°æ®æŸ¥è¯¢ä¸Žè¿½æº¯ (Search & Filter)ã€‚
* [ ] **v1.0 Release**: å¼•å…¥ Redis ç¼“å­˜å±‚ï¼Œæ”¯æŒ WebSocket å®žæ—¶æŽ¨é€ï¼Œå‘å¸ƒæ­£å¼ç‰ˆã€‚

---

## ðŸ‘¥ ç»´æŠ¤è€… (Maintainers)

### Run-Haji

**Project Lead & System Architect**
è´Ÿè´£ Mini-MES çš„**é¡¶å±‚æž¶æž„è®¾è®¡**ã€**æŠ€æœ¯æ ˆé€‰åž‹**ä»¥åŠ**æ ¸å¿ƒä¸šåŠ¡é€»è¾‘æŠ½è±¡**ã€‚

### Gemini (AI Model)

**Technical Copilot**
ååŠ©å¼€å‘è€…å®Œæˆäº†ä»Ž**æ•°æ®åº“å»ºæ¨¡**ã€**åŽç«¯é«˜å¹¶å‘é“¾è·¯å®žçŽ°**åˆ°**å‰ç«¯ç»„ä»¶åŒ–å¼€å‘**çš„å…¨æµç¨‹è½åœ°ï¼Œæžå¤§åœ°ç¼©çŸ­äº†ç³»ç»Ÿçš„ç ”å‘å‘¨æœŸï¼ˆTime-to-Marketï¼‰ã€‚

> **Copyright**: Â© 2026 Mini-MES Open Source Project.